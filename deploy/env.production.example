# ==========================================
# Booklook Production Environment Variables
# Copy this file to ../.env and fill in your values
# ==========================================

# ==================== Application ====================
APP_NAME=Booklook
APP_VERSION=1.0.0
ENVIRONMENT=production
DEBUG=false

# ==================== Server Configuration ====================
BACKEND_PORT=8000  # Port to expose backend service on host

# ==================== Redis Configuration ====================
# Option 1: Use Docker Compose Redis container (default)
REDIS_PASSWORD=  # Leave empty for no password
REDIS_URL=redis://booklook-redis:6379/0

# Option 2: Use cloud Redis (recommended for production)
# REDIS_URL=redis://:password@your-redis-host:6379/0
# Example for Aliyun Redis:
# REDIS_URL=redis://:YourPassword@r-xxxxx.redis.rds.aliyuncs.com:6379/0

# ==================== AI Engine ====================
# ComfyUI service URL (REQUIRED)
COMFYUI_BASE_URL=http://your-comfyui-server:7860
# Example:
# COMFYUI_BASE_URL=http://172.16.x.x:7860  # Internal VPC address
# COMFYUI_BASE_URL=http://47.xxx.xxx.xxx:7860  # Public IP

COMFYUI_TIMEOUT=300
COMFYUI_POLL_INTERVAL=2

# ==================== Storage ====================
# Storage type: local / oss / s3
STORAGE_TYPE=local

# For cloud storage (OSS example):
# STORAGE_TYPE=oss
# OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
# OSS_ACCESS_KEY_ID=LTAI4xxxxx
# OSS_ACCESS_KEY_SECRET=xxxxxx
# OSS_BUCKET_NAME=formy-uploads
# OSS_BUCKET_DOMAIN=https://cdn.your-domain.com

# ==================== JWT Authentication ====================
# Generate with: openssl rand -base64 32
SECRET_KEY=CHANGE-THIS-TO-A-RANDOM-SECRET-KEY-IN-PRODUCTION
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440

# ==================== CORS ====================
# Comma-separated list of allowed frontend origins
# Supports any domain (not limited to specific cloud platforms)
# Examples:
#   Vercel: https://formy-frontend.vercel.app
#   Custom domain: https://your-domain.com
#   Multiple domains: https://app.example.com,https://www.example.com,https://admin.example.com
CORS_ORIGINS=https://your-frontend-domain.com

# ==================== Email Service ====================
# Email provider: resend / aliyun / smtp
EMAIL_PROVIDER=resend

# Resend configuration
RESEND_API_KEY=re_your_api_key_here
FROM_EMAIL=noreply@your-domain.com
FROM_NAME=Booklook

# For Aliyun DirectMail:
# EMAIL_PROVIDER=aliyun
# ALIYUN_EMAIL_REGION=cn-hangzhou
# ALIYUN_EMAIL_ACCESS_KEY_ID=LTAI4xxxxx
# ALIYUN_EMAIL_ACCESS_KEY_SECRET=xxxxxx

# For SMTP:
# EMAIL_PROVIDER=smtp
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=your_email@example.com
# SMTP_PASSWORD=your_password
# SMTP_USE_TLS=true

# ==================== Task Management ====================
TASK_RETENTION_DAYS=7
MAX_CONCURRENT_TASKS_PER_USER=3
TASK_QUEUE_NAME=formy:tasks

# ==================== Logging ====================
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==================== Monitoring (Optional) ====================
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
# ENABLE_METRICS=false

